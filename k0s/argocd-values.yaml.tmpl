redis-ha:
  enabled: false
controller:
  replicas: 1
server:
  replicas: 1
  ingress:
    enabled: true
    ingressClassName: "nginx"
    annotations:
      nginx.ingress.kubernetes.io/backend-protocol: "HTTP"
    hosts:
      - ${argocd_host}
repoServer:
  replicas: 1
applicationSet:
  replicaCount: 1
configs:
  params:
    server.insecure: true
  cm:
    url: https://${argocd_host}
    admin.enabled: false
    dex.config: |
      connectors:
        - type: github
          id: github
          name: GitHub
          config:
            clientID: ${github_client_id}
            clientSecret: ${github_client_secret}
            redirectURI: "https://argocd-martaneta.callepuzzle.com/api/dex/callback"
            orgs:
            - name: CallePuzzle
  rbac:
    policy.default: "role:readonly"
    policy.csv: |
      p, role:org-admin, applications, *, */*, allow
      p, role:org-admin, clusters, get, *, allow
      p, role:org-admin, repositories, get, *, allow
      p, role:org-admin, repositories, create, *, allow
      p, role:org-admin, repositories, update, *, allow
      p, role:org-admin, repositories, delete, *, allow
      p, role:org-admin, projects, get, *, allow
      p, role:org-admin, projects, create, *, allow
      p, role:org-admin, projects, update, *, allow
      p, role:org-admin, projects, delete, *, allow
      p, role:org-admin, logs, get, *, allow
      p, role:org-admin, exec, create, */*, allow
      g, CallePuzzle, role:org-admin
